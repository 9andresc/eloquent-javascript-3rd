<!-- Text Fields -->

<textarea></textarea>

<input type="text" /> length: <span id="length">0</span>

<script>
  function replaceSelection(field, word) {
    let from = field.selectionStart
    let to = field.selectionEnd

    field.value = field.value.slice(0, from) + word + field.value.slice(to)
    field.selectionStart = from + word.length
    field.selectionEnd = from + word.length
  }

  let textarea = document.querySelector('textarea')

  textarea.addEventListener('keydown', function onKeydown(event) {
    // The key code for F2 happens to be 113
    if (event.keyCode === 113) {
      replaceSelection(textarea, 'Khasekhemwy')
      event.preventDefault()
    }
  })

  let text = document.querySelector('input')
  let output = document.querySelector('#length')

  text.addEventListener('input', function onInput() {
    output.textContent = text.value.length
  })
</script>
